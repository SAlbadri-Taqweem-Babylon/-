<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªÙ‚ÙˆÙŠÙ… Ø¨Ø§Ø¨Ù„</title>

  <!-- Moment + Hijri + Jalaali -->
  <script src="https://cdn.jsdelivr.net/npm/moment@2.29.4/moment.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment-hijri@2.1.2/moment-hijri.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/moment-jalaali@0.9.2/build/moment-jalaali.js"></script>

  <style>
    :root{
      --green:#1f6f43;
      --bg:#f3f5f7;
      --card:#ffffff;
      --text:#1b1b1b;
      --muted:#6b7280;
      --border:#d1d5db;
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family: Arial, "Cairo", "Amiri", sans-serif;
      background:var(--bg);
      color:var(--text);
      text-align:center;
      padding:20px 12px;
    }
    h1{
      margin:10px 0 6px;
      color:var(--green);
      font-size:44px;
      letter-spacing:0.5px;
    }
    .sub{
      margin:0 0 16px;
      color:var(--muted);
      font-size:14px;
    }
    .card{
      width:min(520px, 100%);
      margin:0 auto;
      background:var(--card);
      border-radius:18px;
      box-shadow:0 10px 25px rgba(0,0,0,0.08);
      padding:18px 14px 16px;
    }
    .today{
      margin:8px 0 14px;
      line-height:1.6;
      font-size:18px;
      font-weight:700;
    }
    .today small{
      display:block;
      font-weight:600;
      color:#111;
      margin-top:4px;
    }
    .grid{
      display:grid;
      grid-template-columns: 1fr;
      gap:10px;
      margin-top:10px;
    }
    label{
      display:block;
      text-align:right;
      font-size:13px;
      color:var(--muted);
      margin:0 4px 6px;
    }
    input, select{
      width:100%;
      padding:12px 12px;
      border:1px solid var(--border);
      border-radius:10px;
      font-size:18px;
      outline:none;
      background:#fff;
    }
    input:focus, select:focus{
      border-color:var(--green);
      box-shadow:0 0 0 3px rgba(31,111,67,0.15);
    }
    .row2{
      display:grid;
      grid-template-columns: 1fr 1fr;
      gap:10px;
    }
    .btn{
      margin-top:14px;
      width:100%;
      padding:12px 14px;
      border:none;
      border-radius:12px;
      background:var(--green);
      color:#fff;
      font-size:20px;
      font-weight:800;
      cursor:pointer;
    }
    .btn:active{transform:scale(0.99)}
    .out{
      margin-top:14px;
      text-align:right;
      background:#f8fafc;
      border:1px solid #e5e7eb;
      border-radius:14px;
      padding:12px 12px;
      line-height:1.75;
      font-size:18px;
      font-weight:700;
    }
    .out .muted{
      font-weight:600;
      color:var(--muted);
      font-size:14px;
      margin-top:6px;
      display:block;
    }
    .pill{
      display:inline-block;
      padding:3px 8px;
      border-radius:999px;
      background:rgba(31,111,67,0.12);
      color:var(--green);
      font-size:13px;
      font-weight:800;
      margin-inline-start:6px;
    }
    .hint{
      margin-top:10px;
      font-size:13px;
      color:var(--muted);
      line-height:1.6;
    }
  </style>
</head>

<body>
  <h1>ØªÙ‚ÙˆÙŠÙ… Ø¨Ø§Ø¨Ù„</h1>
  <div class="sub">Ù…ÙŠÙ„Ø§Ø¯ÙŠ â‡„ Ù‡Ø¬Ø±ÙŠ â‡„ Ø¨Ø§Ø¨Ù„ÙŠ (Ø¬Ù„Ø§Ù„ÙŠ)</div>

  <div class="card">
    <div class="today" id="todayBox">...</div>

    <div class="grid">
      <div class="row2">
        <div>
          <label for="day">Ø§Ù„ÙŠÙˆÙ…</label>
          <input id="day" type="number" min="1" max="31" placeholder="Ù…Ø«Ø§Ù„: 19">
        </div>
        <div>
          <label for="month">Ø§Ù„Ø´Ù‡Ø±</label>
          <input id="month" type="number" min="1" max="12" placeholder="Ù…Ø«Ø§Ù„: 2">
        </div>
      </div>

      <div>
        <label for="year">Ø§Ù„Ø³Ù†Ø©</label>
        <input id="year" type="number" min="1" max="3000" placeholder="Ù…Ø«Ø§Ù„: 2026">
      </div>

      <div class="row2">
        <div>
          <label for="mode">Ù†ÙˆØ¹ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„</label>
          <select id="mode">
            <option value="greg">Ù…ÙŠÙ„Ø§Ø¯ÙŠ</option>
            <option value="hijri">Ù‡Ø¬Ø±ÙŠ</option>
            <option value="jalaali">Ø¨Ø§Ø¨Ù„ÙŠ (Ø¬Ù„Ø§Ù„ÙŠ)</option>
          </select>
        </div>
        <div>
          <label for="show60">Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠÙ‘Ø©</label>
          <select id="show60">
            <option value="base10">Ø¹Ø§Ø¯ÙŠØ© (10)</option>
            <option value="base60">Ø¨Ø§Ø¨Ù„ÙŠ (Ø³ØªÙŠÙ†ÙŠ)</option>
          </select>
        </div>
      </div>

      <button class="btn" id="convertBtn">ØªØ­ÙˆÙŠÙ„</button>

      <div class="out" id="resultBox" style="display:none;"></div>

      <div class="hint">
        Ù…Ù„Ø§Ø­Ø¸Ø©: â€œØ§Ù„Ø¨Ø§Ø¨Ù„ÙŠâ€ Ù‡Ù†Ø§ Ù…Ø­Ø³ÙˆØ¨ Ø¨ØªÙ‚ÙˆÙŠÙ… <b>Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠ (Jalali)</b> Ø¨Ø§Ø³ØªØ®Ø¯Ø§Ù… Ù…ÙƒØªØ¨Ø© moment-jalaaliØŒ
        ÙˆÙŠÙ…ÙƒÙ† Ø¹Ø±Ø¶ ØªÙ…Ø«ÙŠÙ„ Ø³ØªÙŠÙ†ÙŠ (Base-60) ÙƒØµÙŠØºØ© â€œØ£Ø±Ù‚Ø§Ù… Ø¨Ø§Ø¨Ù„ÙŠØ©â€ Ø¹Ù„Ù…ÙŠØ©.
      </div>
    </div>
  </div>

<script>
  // ØªÙØ¹ÙŠÙ„ Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠ/Ø§Ù„ÙØ§Ø±Ø³ÙŠØ© Ø¯Ø§Ø®Ù„ moment-jalaali (Ù…Ø¹ Ø¥Ø¨Ù‚Ø§Ø¡ Ø§Ù„Ø£Ø±Ù‚Ø§Ù… Ø¹Ø§Ø¯ÙŠØ©)
  if (typeof moment !== "undefined" && moment.loadPersian) {
    moment.loadPersian({ usePersianDigits: false, dialect: "persian-modern" });
  }

  const daysAr = ["Ø§Ù„Ø£Ø­Ø¯","Ø§Ù„Ø¥Ø«Ù†ÙŠÙ†","Ø§Ù„Ø«Ù„Ø§Ø«Ø§Ø¡","Ø§Ù„Ø£Ø±Ø¨Ø¹Ø§Ø¡","Ø§Ù„Ø®Ù…ÙŠØ³","Ø§Ù„Ø¬Ù…Ø¹Ø©","Ø§Ù„Ø³Ø¨Øª"];

  const gregMonthsAr = ["ÙŠÙ†Ø§ÙŠØ±","ÙØ¨Ø±Ø§ÙŠØ±","Ù…Ø§Ø±Ø³","Ø£Ø¨Ø±ÙŠÙ„","Ù…Ø§ÙŠÙˆ","ÙŠÙˆÙ†ÙŠÙˆ","ÙŠÙˆÙ„ÙŠÙˆ","Ø£ØºØ³Ø·Ø³","Ø³Ø¨ØªÙ…Ø¨Ø±","Ø£ÙƒØªÙˆØ¨Ø±","Ù†ÙˆÙÙ…Ø¨Ø±","Ø¯ÙŠØ³Ù…Ø¨Ø±"];
  const hijriMonthsAr = ["Ù…Ø­Ø±Ù…","ØµÙØ±","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø£ÙˆÙ„","Ø±Ø¨ÙŠØ¹ Ø§Ù„Ø¢Ø®Ø±","Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø£ÙˆÙ„Ù‰","Ø¬Ù…Ø§Ø¯Ù‰ Ø§Ù„Ø¢Ø®Ø±Ø©","Ø±Ø¬Ø¨","Ø´Ø¹Ø¨Ø§Ù†","Ø±Ù…Ø¶Ø§Ù†","Ø´ÙˆØ§Ù„","Ø°Ùˆ Ø§Ù„Ù‚Ø¹Ø¯Ø©","Ø°Ùˆ Ø§Ù„Ø­Ø¬Ø©"];
  // Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠ (ÙØ§Ø±Ø³ÙŠ/Ø¬Ù„Ø§Ù„ÙŠ) â€” ÙˆÙ„Ø£ØºØ±Ø§Ø¶ Ù…Ø´Ø±ÙˆØ¹Ùƒ Ù†Ø³Ù…ÙŠÙ‡ â€œØ¨Ø§Ø¨Ù„ÙŠâ€
  const jalaaliMonthsAr = ["ÙØ±ÙˆØ±Ø¯ÙŠÙ†","Ø£Ø±Ø¯ÙŠØ¨Ù‡Ø´Øª","Ø®Ø±Ø¯Ø§Ø¯","ØªÙŠØ±","Ù…Ø±Ø¯Ø§Ø¯","Ø´Ù‡Ø±ÙŠÙˆØ±","Ù…Ù‡Ø±","Ø¢Ø¨Ø§Ù†","Ø¢Ø°Ø±","Ø¯ÙŠ","Ø¨Ù‡Ù…Ù†","Ø§Ø³ÙÙ†Ø¯"];

  // Ø£Ø³Ù…Ø§Ø¡ Ø´Ù‡ÙˆØ± Ø¨Ø§Ø¨Ù„ÙŠØ© (Ø£ÙƒÙ‘Ø¯ÙŠØ© Ø´Ø§Ø¦Ø¹Ø©) â€” Ø¹Ø±Ø¶Ù‡Ø§ ÙƒÙ‡ÙˆÙŠØ© Ù„Ù„Ù…Ø´Ø±ÙˆØ¹
  const babylonMonthsAkk = ["Ù†ÙŠØ³Ø§Ù†Ùˆ","Ø£ÙŠØ§Ø±Ùˆ","Ø³ÙŠÙ…Ø§Ù†Ùˆ","Ø¯ÙˆÙ…ÙˆØ²Ùˆ","Ø£Ø¨Ùˆ","Ø£ÙˆÙ„ÙˆÙ„Ùˆ","ØªØ´Ø±Ù‘ÙŠØªÙˆ","Ø£Ø±ÙØ®Ø´Ù…Ù†Ùˆ","ÙƒÙØ³Ù„ÙŠÙ…Ùˆ","ØªÙŠØ¨ÙØªÙˆ","Ø´Ø¨Ø§Ø·Ùˆ","Ø£Ø¯Ø§Ø±Ùˆ"];

  function pad2(n){ return String(n).padStart(2, "0"); }

  // ØªÙ…Ø«ÙŠÙ„ Ø¨Ø§Ø¨Ù„ÙŠ Ø³ØªÙŠÙ†ÙŠ (Base-60) Ø¨Ø³ÙŠØ·: a:bb
  function toBase60(n){
    n = Number(n);
    if (!Number.isFinite(n)) return "";
    const a = Math.floor(n / 60);
    const b = Math.abs(n % 60);
    return `${a}:${String(b).padStart(2,"0")}`;
  }

  function showToday(){
    const now = new Date();
    const dayName = daysAr[now.getDay()];
    const g = moment();
    const gY = g.format("YYYY");
    const gM = g.format("M");
    const gD = g.format("D");

    const h = moment().format("iYYYY/iM/iD");
    const j = moment().format("jYYYY/jM/jD");

    const gMonthName = gregMonthsAr[Number(gM)-1] || "";
    const jMonthName = jalaaliMonthsAr[moment().jMonth()] || "";
    const babMonthName = babylonMonthsAkk[moment().jMonth()] || "";

    document.getElementById("todayBox").innerHTML =
      `${dayName} : Ø§Ù„ÙŠÙˆÙ… <span class="pill">ğŸ“…</span>` +
      `<small>Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gY}/${pad2(gM)}/${pad2(gD)} (${gMonthName})</small>` +
      `<small>Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ${h} </small>` +
      `<small>Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠ (Ø¬Ù„Ø§Ù„ÙŠ): ${j} (${babMonthName} / ${jMonthName})</small>`;
  }

  function parseInputs(){
    const d = Number(document.getElementById("day").value);
    const m = Number(document.getElementById("month").value);
    const y = Number(document.getElementById("year").value);
    if (!Number.isInteger(d) || !Number.isInteger(m) || !Number.isInteger(y)) {
      return { ok:false, msg:"Ø±Ø¬Ø§Ø¡Ù‹ Ø£Ø¯Ø®Ù„ Ø§Ù„ÙŠÙˆÙ…/Ø§Ù„Ø´Ù‡Ø±/Ø§Ù„Ø³Ù†Ø© Ø¨Ø´ÙƒÙ„ ØµØ­ÙŠØ­." };
    }
    if (d < 1 || d > 31) return { ok:false, msg:"Ø§Ù„ÙŠÙˆÙ… ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 1 Ùˆ 31." };
    if (m < 1 || m > 12) return { ok:false, msg:"Ø§Ù„Ø´Ù‡Ø± ÙŠØ¬Ø¨ Ø£Ù† ÙŠÙƒÙˆÙ† Ø¨ÙŠÙ† 1 Ùˆ 12." };
    if (y < 1 || y > 3000) return { ok:false, msg:"Ø§Ù„Ø³Ù†Ø© ØºÙŠØ± Ù…Ù†Ø·Ù‚ÙŠØ©." };
    return { ok:true, d, m, y };
  }

  function convert(){
    const mode = document.getElementById("mode").value;
    const digitsMode = document.getElementById("show60").value;

    const inp = parseInputs();
    const box = document.getElementById("resultBox");
    box.style.display = "block";

    if (!inp.ok){
      box.innerHTML = `âš ï¸ ${inp.msg}`;
      return;
    }

    const {d, m, y} = inp;

    let baseMoment;

    try{
      if (mode === "greg"){
        // Ø¥Ø¯Ø®Ø§Ù„ Ù…ÙŠÙ„Ø§Ø¯ÙŠ
        baseMoment = moment(`${y}/${m}/${d}`, "YYYY/M/D", true);
      } else if (mode === "hijri"){
        // Ø¥Ø¯Ø®Ø§Ù„ Ù‡Ø¬Ø±ÙŠ (moment-hijri)
        baseMoment = moment(`${y}/${m}/${d}`, "iYYYY/iM/iD", true);
      } else {
        // Ø¥Ø¯Ø®Ø§Ù„ Ø¬Ù„Ø§Ù„ÙŠ (moment-jalaali) â€” â€œØ¨Ø§Ø¨Ù„ÙŠâ€
        baseMoment = moment(`${y}/${m}/${d}`, "jYYYY/jM/jD", true);
      }

      if (!baseMoment.isValid()){
        box.innerHTML = "âš ï¸ Ø§Ù„ØªØ§Ø±ÙŠØ® Ø§Ù„Ù…Ø¯Ø®Ù„ ØºÙŠØ± ØµØ§Ù„Ø­. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ù„ÙŠÙˆÙ… ÙˆØ§Ù„Ø´Ù‡Ø± ÙˆØ§Ù„Ø³Ù†Ø©.";
        return;
      }

      // Ù…Ø®Ø±Ø¬Ø§Øª
      const gY = baseMoment.format("YYYY");
      const gM = baseMoment.format("M");
      const gD = baseMoment.format("D");
      const gMonthName = gregMonthsAr[Number(gM)-1] || "";

      const h = baseMoment.format("iYYYY/iMM/iDD");
      const hM = Number(baseMoment.format("iM"));
      const hMonthName = hijriMonthsAr[hM-1] || "";

      const j = baseMoment.format("jYYYY/jMM/jDD"); // Ù‡Ù†Ø§ Ø§Ù„Ø¥ØµÙ„Ø§Ø­: Ù„Ø§ ØªØ¸Ù‡Ø± j ÙƒÙ†Øµ
      const jM = Number(baseMoment.format("jM"));
      const jMonthName = jalaaliMonthsAr[jM-1] || "";
      const babMonthName = babylonMonthsAkk[jM-1] || "";

      // â€œØ£Ø±Ù‚Ø§Ù… Ø¨Ø§Ø¨Ù„ÙŠÙ‘Ø©â€ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ): Base-60
      let gShow = `${gY}/${pad2(gM)}/${pad2(gD)}`;
      let hShow = h;
      let jShow = j;

      if (digitsMode === "base60"){
        gShow = `${toBase60(gY)}/${toBase60(gM)}/${toBase60(gD)}`;
        // Ù„Ù„Ù‡Ø¬Ø±ÙŠ/Ø§Ù„Ø¬Ù„Ø§Ù„ÙŠ Ù†Ø®Ù„ÙŠÙ‡Ø§ Ø£ÙŠØ¶Ø§Ù‹ Ø³ØªÙŠÙ†ÙŠ Ø¨Ù†ÙØ³ Ø§Ù„ÙÙƒØ±Ø©
        const hy = baseMoment.format("iYYYY");
        const hm = baseMoment.format("iM");
        const hd = baseMoment.format("iD");
        hShow = `${toBase60(hy)}/${toBase60(hm)}/${toBase60(hd)}`;

        const jy = baseMoment.format("jYYYY");
        const jm = baseMoment.format("jM");
        const jd = baseMoment.format("jD");
        jShow = `${toBase60(jy)}/${toBase60(jm)}/${toBase60(jd)}`;
      }

      box.innerHTML =
        `Ø§Ù„Ù…ÙŠÙ„Ø§Ø¯ÙŠ: ${gShow} <span class="pill">${gMonthName}</span><br>` +
        `Ø§Ù„Ù‡Ø¬Ø±ÙŠ: ${hShow} <span class="pill">${hMonthName}</span><br>` +
        `Ø§Ù„Ø¨Ø§Ø¨Ù„ÙŠ (Ø¬Ù„Ø§Ù„ÙŠ): ${jShow} <span class="pill">${babMonthName}</span> <span class="pill">${jMonthName}</span>` +
        `<span class="muted">Ø¥Ø°Ø§ Ø£Ø±Ø¯Øª â€œØ±Ù…ÙˆØ² Ù…Ø³Ù…Ø§Ø±ÙŠØ©â€ Ø­Ù‚ÙŠÙ‚ÙŠØ© Ù„Ù„Ø£Ø±Ù‚Ø§Ù…ØŒ Ø£Ø®Ø¨Ø±Ù†ÙŠ ÙˆØ³Ø£Ø¶ÙŠÙÙ‡Ø§ ÙƒØ®ÙŠØ§Ø± Ø«Ø§Ù„Ø«.</span>`;
    }catch(e){
      box.innerHTML = "âš ï¸ Ø­Ø¯Ø« Ø®Ø·Ø£ ÙÙŠ Ø§Ù„ØªØ­ÙˆÙŠÙ„. Ø¥Ø°Ø§ ØªØ­Ø¨ Ø£Ø±Ø³Ù„ Ù„ÙŠ ØµÙˆØ±Ø© Ù…Ù† Console (Ø¥Ù† ÙˆØ¬Ø¯Øª) ÙˆØ³Ø£ØµÙ„Ø­Ù‡ ÙÙˆØ±Ø§Ù‹.";
    }
  }

  document.getElementById("convertBtn").addEventListener("click", convert);

  // ØªØ¹Ø¨Ø¦Ø© Ø§ÙØªØ±Ø§Ø¶ÙŠØ©: ØªØ§Ø±ÙŠØ® Ø§Ù„ÙŠÙˆÙ…
  function fillTodayInputs(){
    const g = moment();
    document.getElementById("day").value = g.format("D");
    document.getElementById("month").value = g.format("M");
    document.getElementById("year").value = g.format("YYYY");
    document.getElementById("mode").value = "greg";
  }

  showToday();
  fillTodayInputs();
</script>

</body>
</html>
